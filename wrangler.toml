name = "plunder-academy-api"
compatibility_date = "2024-08-23"
main = "src/index.ts"

[env.production]
name = "plunder-academy-api"

[env.staging]
name = "plunder-academy-api-staging"

# Bindings to the D1 database
[[d1_databases]]
binding = "DB"
database_name = "plunder-academy-db"
database_id = "8d592fe6-a917-46da-b509-9dca74ea028f"

# Environment variables
[vars]
ENVIRONMENT = "production"
RPC_URL = "https://api.zilliqa.com"  # Default/fallback RPC
RPC_URL_MAINNET = "https://api.zilliqa.com"
RPC_URL_TESTNET = "https://api.testnet.zilliqa.com"

# For development
[env.development]
name = "plunder-academy-api-dev"
vars = { ENVIRONMENT = "development", RPC_URL = "https://api.testnet.zilliqa.com", RPC_URL_MAINNET = "https://api.zilliqa.com", RPC_URL_TESTNET = "https://api.testnet.zilliqa.com" }

[[env.development.d1_databases]]
binding = "DB"
database_name = "plunder-academy-db-dev"
database_id = "4b8f0748-7422-4932-b898-5e66c0a82d64"  # Add your dev database ID

# R2 bucket configuration for training assets
[[r2_buckets]]
binding = "TRAINING_ASSETS"
bucket_name = "plunderswap-static-assets"

[observability]
enabled = true
head_sampling_rate = 1 # optional. default = 1.